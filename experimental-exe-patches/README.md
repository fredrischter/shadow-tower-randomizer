# 20 Experimental EXE Patches for Magic Damage Testing

This folder contains 20 different experimental patches to ST.EXE.

## Key Change: ALL Experiments Reduce Magic Damage to 1/4

**Every experiment applies the same modification:** Reduce magic damage to 25% (divide by 4)

**The variety is in WHERE the patches are applied:**
- Different code regions (first 32KB, middle, last 128KB)
- Different instruction types (ADDIU, LUI, ORI, ANDI, SLTI, shifts)
- Different value ranges (low 4-30, mid 30-100, high 100-255)
- Different patterns (alternating, branch delays, near multiplies)

This allows testing which code location actually controls magic damage.

---

## Experiments Quick Reference

| # | Description | Changes | Risk |
|---|-------------|---------|------|
| 01 | First 32KB region | 271 | Low |
| 02 | 32-64KB region | 399 | Low |
| 03 | 64-128KB region | 1,536 | Low |
| 04 | ALL constants (broad) | 6,912 | Med |
| 05 | Shift operations | 441 | Med |
| 06 | LUI instructions | 518 | Med |
| 07 | Specific magic values | 2,948 | Low |
| 08 | ORI instructions | 173 | Low |
| 09 | ANDI instructions | 894 | Med |
| 10 | Raw bytes (aggressive) | 35,479 | High |
| 11 | 16-bit values (extreme) | 54,749 | High |
| 12 | Comparison thresholds | 623 | Med |
| 13 | Branch delay slots | 412 | Med |
| 14 | Store operations | 0 | Skip |
| 15 | High values (100-255) | 1,646 | Low |
| 16 | Mid values (30-100) | 2,240 | Low |
| 17 | Low values (4-30) | 3,081 | Low |
| 18 | Near multiply | 63 | Low |
| 19 | Alternating pattern | 3,386 | Med |
| 20 | Last 128KB | 925 | Low |

---

## Testing Priority

**Start with these (best candidates):**
1. Experiment 04 - Broadest coverage
2. Experiment 07 - Specific magic damage values
3. Experiment 11 - 16-bit data values (if no crashes)

**Then narrow down location:**
- Experiments 01, 02, 03, 20 - Regional testing

**Then test value ranges:**
- Experiments 15, 16, 17 - High/mid/low values

**Finally try special patterns:**
- Experiments 05, 06, 08, 09, 12, 13, 18, 19 - Instruction types

---

## How to Test

```bash
# Copy experiment to test location
cp experimental-exe-patches/ST-experiment-04.EXE iso-dump/ST.EXE

# Build ISO
npm run mod "./path/to/st.bin" "./params/no-change.json"

# Test in PSX emulator
# Check if magic damage is ~1/4 normal
```

---

## Expected Result

If an experiment works:
- ✅ Magic attacks deal 25% damage
- ✅ Spells weakened to 1/4 power
- ✅ Physical attacks unchanged
- ✅ Game stable

Report which experiment(s) successfully reduce magic damage!

---

Generated by `generate_experiments_v2.js`
