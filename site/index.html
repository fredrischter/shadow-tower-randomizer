<!doctype html>
<html lang="us">
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Shadow Tower Randomizer</title>
	<link href="jquery-ui.css" rel="stylesheet">
	<style>
		/* Task #Mobile-Flickering-Fix: Drastically simplified CSS to prevent mobile flickering/shaking */
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}
		
		body {
			font-family: 'Garamond', 'Georgia', serif;
			/* Task #Mobile-Flickering-Fix: Removed gradient, using simple solid color */
			background: #1a0a0f;
			color: #d4c5b9;
			/* Task #Mobile-Flickering-Fix: Removed vh unit, using auto instead */
			min-height: 100%;
			line-height: 1.6;
			/* Task #Mobile-Flickering-Fix: Removed position relative */
		}
		
		/* Task #Mobile-Flickering-Fix: Removed all pseudo-elements (body::before, body::after) and animations */
		/* These were causing flickering on mobile due to complex positioning and animations */

		.container {
			max-width: 1200px;
			margin: 0 auto;
			padding: 20px;
		}

		header {
			text-align: center;
			padding: 40px 20px;
			background: rgba(0, 0, 0, 0.85);
			border: 2px solid #8b4513;
			border-radius: 10px;
			margin-bottom: 30px;
			/* Task #Mobile-Flickering-Fix: Removed box-shadow and backdrop-filter */
		}

		h1 {
			font-size: clamp(1.8em, 5vw, 3em);
			color: #d4af37;
			/* Task #Mobile-Flickering-Fix: Simplified text-shadow */
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
			letter-spacing: 3px;
			margin-bottom: 10px;
			font-weight: bold;
		}
		
		/* Task #Mobile-Layout: Grid layout for input sections on mobile */
		.input-grid {
			display: grid;
			grid-template-columns: 1fr;
			gap: 20px;
		}

		h2 {
			color: #c9a961;
			font-size: 1.8em;
			margin: 20px 0 15px 0;
			text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
			border-bottom: 2px solid #8b4513;
			padding-bottom: 10px;
		}

		h3 {
			color: #b8956a;
			font-size: 1.3em;
			margin: 15px 0 10px 0;
			text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);
		}

		#status {
			color: #d4af37;
			font-size: 1.2em;
			margin-top: 10px;
			min-height: 30px;
		}

		.main-content {
			background: rgba(20, 10, 15, 0.92);
			border: 2px solid #8b4513;
			border-radius: 10px;
			padding: 30px;
			/* Task #Mobile-Flickering-Fix: Removed box-shadow and backdrop-filter */
		}

		.section {
			background: rgba(0, 0, 0, 0.4);
			border: 1px solid #5a3a2a;
			border-radius: 8px;
			padding: 20px;
			margin-bottom: 20px;
			/* Task #Mobile-Flickering-Fix: Removed backdrop-filter and transition */
		}
		
		/* Task #Mobile-Flickering-Fix: Removed hover effect with box-shadow */

		button, input[type="submit"] {
			/* Task #Mobile-Flickering-Fix: Simplified gradient */
			background: #6b3410;
			color: #d4af37;
			border: 2px solid #d4af37;
			padding: 12px 30px;
			font-size: 1.1em;
			font-weight: bold;
			cursor: pointer;
			border-radius: 5px;
			/* Task #Mobile-Flickering-Fix: Removed transition */
			font-family: 'Garamond', 'Georgia', serif;
			text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
			/* Task #Mobile-Flickering-Fix: Removed box-shadow */
		}

		/* Task #Mobile-Flickering-Fix: Simplified hover - no transform or glow effects */
		button:hover, input[type="submit"]:hover {
			background: #8b5a2d;
			border-color: #ffd700;
			color: #ffd700;
		}

		/* Task #Mobile-Flickering-Fix: Removed active transform */
		button:active, input[type="submit"]:active {
			background: #5a2d0f;
		}

		button:disabled {
			background: #3a3a3a;
			border-color: #555;
			color: #666;
			cursor: not-allowed;
		}

		input[type="file"] {
			background: rgba(30, 20, 15, 0.8);
			color: #d4c5b9;
			border: 2px solid #8b4513;
			padding: 12px;
			border-radius: 5px;
			font-family: 'Garamond', 'Georgia', serif;
			cursor: pointer;
			width: 100%;
			font-size: 1em;
		}

		input[type="file"]::file-selector-button {
			background: #4a2f18;
			color: #d4af37;
			border: 1px solid #8b4513;
			padding: 10px 20px;
			border-radius: 3px;
			cursor: pointer;
			margin-right: 10px;
			font-size: 1em;
		}

		input[type="file"]::file-selector-button:hover {
			background: #5a3618;
		}
		
		input[type="text"] {
			width: 100%;
			max-width: 400px;
			padding: 12px;
			background: rgba(30, 20, 15, 0.8);
			color: #d4c5b9;
			border: 2px solid #8b4513;
			border-radius: 5px;
			font-family: 'Garamond', 'Georgia', serif;
			font-size: 1em;
			/* Task #Mobile-Flickering-Fix: Removed transition */
		}
		
		input[type="text"]:focus {
			outline: none;
			border-color: #d4af37;
			/* Task #Mobile-Flickering-Fix: Removed box-shadow */
		}

		form {
			margin: 15px 0;
		}

		label {
			color: #c9a961;
			font-weight: bold;
			display: block;
			margin-bottom: 8px;
		}

		.ui-widget {
			font-family: 'Garamond', 'Georgia', serif !important;
			font-size: 1em !important;
			padding: 10px !important;
		}

		#tabs {
			background: rgba(0, 0, 0, 0.4);
			border: 2px solid #8b4513;
			border-radius: 8px;
			margin-top: 20px;
		}

		.ui-tabs .ui-tabs-nav {
			background: rgba(40, 20, 10, 0.8);
			border-bottom: 2px solid #8b4513;
		}

		.ui-tabs .ui-tabs-nav li {
			background: rgba(60, 30, 15, 0.7);
			border: 1px solid #8b4513;
		}

		.ui-tabs .ui-tabs-nav li.ui-tabs-active {
			background: rgba(139, 69, 19, 0.6);
		}

		.ui-tabs .ui-tabs-nav li a {
			color: #d4af37;
			text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
		}

		.ui-tabs .ui-tabs-panel {
			background: rgba(20, 10, 5, 0.6);
			color: #d4c5b9;
		}

		.ui-state-default, .ui-widget-content .ui-state-default {
			background: rgba(80, 50, 30, 0.8);
			border: 1px solid #8b4513;
			color: #d4c5b9;
			padding: 8px 12px;
			min-height: 44px;
			display: inline-flex;
			align-items: center;
			justify-content: center;
		}

		.ui-state-active, .ui-widget-content .ui-state-active {
			background: rgba(139, 69, 19, 0.9);
			border: 1px solid #d4af37;
			color: #ffd700;
		}
		
		/* Improve radio button groups for mobile */
		.ui-buttonset {
			display: flex;
			flex-wrap: wrap;
			gap: 5px;
			margin: 10px 0;
		}
		
		.ui-buttonset label {
			flex: 1 1 auto;
			min-width: 120px;
		}

		ul {
			list-style-position: inside;
			margin-left: 20px;
		}

		ul li {
			margin: 8px 0;
			color: #b8a080;
		}

		p {
			margin: 12px 0;
			color: #c9b896;
		}

		a {
			color: #d4af37;
			text-decoration: none;
			/* Task #Mobile-Flickering-Fix: Removed transition */
		}

		a:hover {
			color: #ffd700;
			text-decoration: underline;
		}

		.info-section {
			background: rgba(0, 0, 0, 0.4);
			border-left: 4px solid #8b4513;
			padding: 15px;
			margin: 20px 0;
			border-radius: 5px;
		}

		@media (max-width: 768px) {
			/* Task #Mobile-Layout: Further reduced header size to minimize scrolling */
			h1 {
				font-size: 1.2em;
				letter-spacing: 1px;
				margin-bottom: 5px;
			}
			
			h2 {
				font-size: 1.5em;
			}
			
			h3 {
				font-size: 1.2em;
			}
			
			.container {
				padding: 10px;
			}
			
			/* Task #Mobile-Layout: Further reduced header padding */
			header {
				padding: 10px;
				margin-bottom: 10px;
			}
			
			.main-content {
				padding: 15px 10px;
			}
			
			.section {
				padding: 12px;
				margin-bottom: 10px;
			}
			
			/* Task #Mobile-Layout: Enable grid for input sections */
			.input-grid {
				grid-template-columns: 1fr;
				gap: 10px;
			}
			
			/* Task #Mobile-Layout: Compact section labels */
			.section label {
				font-size: 0.9em;
				margin-bottom: 5px;
			}
			
			button, input[type="submit"] {
				width: 100%;
				padding: 12px 15px;
				font-size: 0.95em;
				margin-bottom: 5px;
			}
			
			.ui-tabs .ui-tabs-nav li {
				margin: 0 2px;
			}
			
			.ui-tabs .ui-tabs-nav li a {
				padding: 8px 10px;
				font-size: 0.9em;
			}
			
			ul {
				margin-left: 10px;
				font-size: 0.9em !important;
			}
			
			input[type="text"] {
				max-width: 100%;
			}
			
			/* Task #Mobile-Layout: Smaller explanatory text */
			.section p {
				font-size: 0.8em;
				margin-top: 5px;
			}
			
			#dif-radioset label,
			#purpose-radioset label,
			#map-radioset label,
			#equip-radioset label,
			#creature-radioset label {
				padding: 10px 8px !important;
				font-size: 0.85em !important;
			}
		}
		
		@media (min-width: 769px) {
			/* Task #Mobile-Layout: Desktop layout - 3 columns for input sections */
			.input-grid {
				grid-template-columns: 1fr 1fr 1fr;
				gap: 20px;
			}
		}
		
		@media (max-width: 480px) {
			h1 {
				font-size: 1.5em;
			}
			
			.ui-tabs .ui-tabs-nav li a {
				padding: 6px 5px;
				font-size: 0.8em;
			}
		}
		
		/* Image gallery styles */
		/* Task #Mobile-Usability: Made gallery collapsible and less prominent */
		.gallery-section {
			background: rgba(0, 0, 0, 0.85);
			border: 2px solid #8b4513;
			border-radius: 10px;
			padding: 0;
			margin-bottom: 30px;
			/* Task #Mobile-Flickering-Fix: Removed backdrop-filter */
			overflow: hidden;
		}
		
		.gallery-toggle {
			width: 100%;
			background: #4a2f18;
			color: #d4af37;
			border: none;
			padding: 15px;
			font-size: 1.1em;
			font-weight: bold;
			cursor: pointer;
			text-align: left;
			display: flex;
			justify-content: space-between;
			align-items: center;
			/* Task #Mobile-Flickering-Fix: Removed transition */
			font-family: 'Garamond', 'Georgia', serif;
		}
		
		.gallery-toggle:hover {
			background: #5a3618;
		}
		
		.gallery-toggle-icon {
			/* Task #Mobile-Flickering-Fix: Removed transition */
		}
		
		/* Task #Mobile-Flickering-Fix: Icon change handled via JavaScript instead of CSS transform */
		
		.gallery-content {
			padding: 20px;
			display: none;
		}
		
		.gallery-content.active {
			display: block;
		}
		
		.gallery-title {
			color: #d4af37;
			font-size: 1.5em;
			text-align: center;
			margin-bottom: 15px;
			text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
		}
		
		.gallery-container {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
			gap: 15px;
			margin-top: 10px;
		}
		
		.gallery-item {
			position: relative;
			overflow: hidden;
			border-radius: 8px;
			border: 2px solid #5a3a2a;
			/* Task #Mobile-Flickering-Fix: Removed transition */
			cursor: pointer;
			aspect-ratio: 4/3;
		}
		
		/* Task #Mobile-Flickering-Fix: Removed hover effects with box-shadow and transform */
		
		.gallery-item img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			/* Task #Mobile-Flickering-Fix: Removed transition */
		}
		
		/* Task #Mobile-Flickering-Fix: Removed hover transform on img */
		
		@media (max-width: 768px) {
			.gallery-container {
				grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
				gap: 10px;
			}
			
			/* Task #Mobile-Usability: Removed padding override since gallery-content now has it */
			.gallery-section {
				margin-bottom: 20px;
			}
		}
		
		@media (max-width: 480px) {
			.gallery-container {
				grid-template-columns: repeat(2, 1fr);
			}
		}
		
		select {
			width: 200px;
		}
	</style>
</head>
<body>
	<div class="container">
		<header>
			<h1>‚öî SHADOW TOWER RANDOMIZER ‚öî</h1>
			<!-- Task #Mobile-Layout: Removed empty h2#status line below title -->
		</header>

		<!-- Task #Mobile-Usability: Gallery moved to bottom for less prominence -->

		<div class="main-content">
			<input type="file" id="file" style="display:none;" />

			<!-- Task #Mobile-Layout: Grid container for input sections -->
			<div class="input-grid">
				<div class="section">
					<label><b>üìÅ Input File</b></label>

					<form id="formButtonUpload" enctype="multipart/form-data">
						<input type="file" id="buttonUploadFile" name="file" accept=".bin" required>
						<button type="submit" id="buttonUpload" class="uploadButton" data-action="buttonUpload">Upload ISO</button>
					</form>
				</div>

				<div class="section">
					<label><b>üé≤ Seed (Optional)</b></label>
					<input type="text" id="seedInput" name="seed" placeholder="Leave empty for random seed">
					<p style="font-size: 0.9em; margin-top: 8px; color: #b8a080;">Enter a number to use a specific seed, or leave empty for a random one. Same seed = same randomization.</p>
				</div>

				<div class="section">
					<label><b>üíæ Output</b></label>
					<button id="buttonDownload">Download Randomized ISO</button>
					<!-- Task #Mobile-Layout: Moved status from header to output section -->
					<div id='status' style="margin-top: 10px; font-size: 0.9em; color: #d4af37;"></div>
				</div>
			</div>

	<div id="tabs">
		<ul>
			<li><a href="#tabs-1">General</a></li>
			<li><a href="#tabs-2">Randomization</a></li>
			<li><a href="#tabs-3">Progress</a></li>
			<li><a href="#tabs-4">Directives</a></li>
		</ul>
		<div id="tabs-1">
			<form style="margin-top: 1em;">
				<h3>Difficulty</h3>
				<div id="dif-radioset">
					<input type="radio" id="dif-radio0" name="difficulty" value="extreme-easy"><label for="dif-radio0">
						Extremely Easy
					</label>
					<input type="radio" id="dif-radio1" name="difficulty" value="easy"><label for="dif-radio1">
						Easy
					</label>
					<input type="radio" id="dif-radio2" name="difficulty" checked="checked" value="medium"><label for="dif-radio2">
						Medium
					</label>
					<input type="radio" id="dif-radio3" name="difficulty" value="hard"><label for="dif-radio3">
						Hard
					</label>
					<input type="radio" id="dif-radio4" name="difficulty" value="very-hard"><label for="dif-radio4">
						Very hard
					</label>
					<input type="radio" id="dif-radio5" name="difficulty" value="even-harder"><label for="dif-radio5">
						Even harder
					</label>

				</div>
			</form>

			<ul style="font-size: 0.5em;">
				<li>Easy - 100% more drops, and higher equip stats, 50% enemy stats.</li>
				<li>Medium - same levels as the regular game.</li>
				<li>Hard - 50% less items and lower equip stats, 100% higher enemy stats.</li>
				<li>Very hard - 66% less items found and lower equip stats, 200% higher enemy stats.</li>
				<li>Even harder - 75% less items and lower equip stats, 300% higher enemy stats</li>
			</ul>

			<form style="margin-top: 1em;">
				<h3>Preset by purpose</h3>
				<div id="purpose-radioset">
					<input type="radio" id="purpose-radio1" name="preset" value="any%" checked="checked"><label for="purpose-radio1">
						Any%
					</label>
					<input type="radio" id="purpose-radio2" name="preset" value="100%"><label for="purpose-radio2">
						100%
					</label>
					<input type="radio" id="purpose-radio3" name="preset" value="scary-game"><label for="purpose-radio3">
						Scary Game
					</label>
					<input type="radio" id="purpose-radio4" name="preset" value="no-change"><label for="purpose-radio4">
						No Change
					</label>
					<input type="radio" id="purpose-radio5" name="preset" value="comedy"><label for="purpose-radio5">
						Comedy
					</label>
					<input type="radio" id="purpose-radio6" name="preset" value="bonanza"><label for="purpose-radio6">
						Bonanza
					</label>
					<input type="radio" id="purpose-radio7" name="preset" value="fix-king-hopper"><label for="purpose-radio7">
						Only fix King Hopper
					</label>
					<input type="radio" id="purpose-radio8" name="preset" value="apply-directives"><label for="purpose-radio8">
						Only directives
					</label>
				</div>
			</form>
			<ul style="font-size: 0.5em;">
				<li>Any% random challenge - Best recommended randomized game, not able to complete 100% equips collect.</li>
				<li>100% random challenge - Much more items are available, making it possible to complete 100% of the game in one run.</li>
				<li>Scary Game - Highest randomness, unpredictability and difficulty. Stability is compromised in favor of horror.</li>
				<li>No Change - Just rebuild the game as it is without performing any change - binary may have little difference due to unused values zeroing.</li>
				<!--li>Stable - Mild randomization and difficulty in order to keep game reasonable to play.</li-->
				<li>Comedy - Creatures may spawn in bizarre positions. You'll find keys, filled Nadya pitchers and some nice equips in the beginning.</li>
				<li>Bonanza - All of the nice drops very soon in the game (full armors and other rare and strong equips). It may corrupt textures or be unstable since all that is memory intensive.</li>
				<li>Only fix King Hopper - Only fix King Hopper spawn, that is just broken in regular game, where if you miss the chance it never spawns.</li>
				<li>Only directives - Doesn't randomize or change the game order, creatures. Only "fix" for modernization, applying directives. Read about directives in directives tab.</li>
			</ul>

		</div>
		<div id="tabs-2">


			<form style="margin-top: 1em;">
				<h3>Fog gate (map randomization)</h3>
				<div id="map-radioset">
					<input type="radio" id="map-radio1" name="radio"><label for="map-radio1">
						Untouched
					</label>
					<input type="radio" id="map-radio2" name="radio" checked="checked"><label for="map-radio2">
						Shuffled
					</label>
					<input type="radio" id="map-radio3" name="radio"><label for="map-radio3">
						Increased
					</label>
				</div>
			</form>
			<ul style="font-size: 0.5em;">
				<li>Untouched - Keep world areas.</li>
				<li>Shuffled - Shuffle all areas.</li>
				<li>Increased - May have contradictory doors where returning may not go back but go somewhere instead.</li>
			</ul>



			<form style="margin-top: 1em;">
				<h3>Random equips stats</h3>
				<div id="equip-radioset">
					<input type="radio" id="equip-radio1" name="radio"><label for="equip-radio1">
						Soft
					</label>
					<input type="radio" id="equip-radio2" name="radio"><label for="equip-radio2">
						Medium
					</label>
					<input type="radio" id="equip-radio3" name="radio" checked="checked"><label for="equip-radio3">
						Increased
					</label>
					<input type="radio" id="equip-radio4" name="radio"><label for="equip-radio4">
						Crazy
					</label>
					<input type="radio" id="equip-radio5" name="radio"><label for="equip-radio5">
						Only swap
					</label>
				</div>
			</form>
			<ul style="font-size: 0.5em;">
				<li>Soft - from -10% to +10% the average of the area.</li>
				<li>Medium - from -30% to +100% the average of the area.</li>
				<li>Increased - from -70% to +300% the average of the area.</li>
				<li>Crazy - from -99% to +3000% the average of the area.</li>
			</ul>


			<form style="margin-top: 1em;">
				<h3>Random creature stats</h3>
				<div id="creature-radioset">
					<input type="radio" id="creature-radio1" name="radio"><label for="creature-radio1">
						Soft
					</label>
					<input type="radio" id="creature-radio2" name="radio"><label for="creature-radio2">
						Medium
					</label>
					<input type="radio" id="creature-radio3" name="radio" checked="checked"><label for="creature-radio3">
						Increased
					</label>
					<input type="radio" id="creature-radio4" name="radio"><label for="creature-radio4">
						Crazy
					</label>
					<input type="radio" id="creature-radio5" name="radio"><label for="creature-radio5">
						Only swap
					</label>
				</div>
			</form>
			<ul style="font-size: 0.5em;">
				<li>Soft - from -10% to +10% the average of the area.</li>
				<li>Medium - from -30% to +100% the average of the area.</li>
				<li>Increased - from -70% to +300% the average of the area.</li>
				<li>Crazy - from -99% to +3000% the average of the area.</li>
			</ul>

			<form style="margin-top: 1em;">
				<h3>Spawn rate</h3>
				<div id="spawn-rate-radioset">
					<input type="radio" id="spawn-rate-radio1" name="radio" checked="checked"><label for="spawn-rate-radio1">
						Predictable
					</label>
					<input type="radio" id="spawn-rate-radio2" name="radio"><label for="spawn-rate-radio2">
						Medium
					</label>
					<input type="radio" id="spawn-rate-radio3" name="radio"><label for="spawn-rate-radio3">
						Rare
					</label>
					<input type="radio" id="spawn-rate-radio4" name="radio"><label for="spawn-rate-radio4">
						Crazy like King Hopper
					</label>
					<input type="radio" id="spawn-rate-radio5" name="radio"><label for="spawn-rate-radio5">
						Only swap
					</label>
				</div>
			</form>
			<ul style="font-size: 0.5em;">
				Consider directive "To remove randomness" overwrites this option if enabled.
				<li>Predictable - Creatures spawn very easy.</li>
				<li>Medium - Same level as the game, but no exceptional rare cases like King Hopper.</li>
				<li>Crazy like King Hopper - Many enemies may be very rare to spawn like the King Hopper.</li>
			</ul>

			<form style="margin-top: 1em;">
				<h3>Random spawn amplitude</h3>
				<div id="spawn-amplitude-radioset">
					<input type="radio" id="spawn-amplitude-radio1" name="radio"><label for="spawn-amplitude-radio1">
						No change
					</label>
					<input type="radio" id="spawn-amplitude-radio2" name="radio"><label for="spawn-amplitude-radio2">
						Anywhere within area
					</label>
					<input type="radio" id="spawn-amplitude-radio3" name="radio"><label for="spawn-amplitude-radio3">
						Anywhere within world
					</label>
					<input type="radio" id="spawn-amplitude-radio4" name="radio" checked="checked"><label for="spawn-amplitude-radio4">
						Absolute anywhere
					</label>
				</div>
			</form>

			<form style="margin-top: 1em;">
				<h3>Random spawn style</h3>
				<div id="spawn-style-radioset">
					<input type="radio" id="spawn-style-radio1" name="radio"><label for="spawn-style-radio1">
						Swap positions
					</label>
					<input type="radio" id="spawn-style-radio2" name="radio" checked="checked"><label for="spawn-style-radio2">
						Known Safe Tiles
					</label>
					<input type="radio" id="spawn-style-radio3" name="radio"><label for="spawn-style-radio3">
						Crazy - excessive randomness, that may break the game
					</label>
				</div>
				<div style="font-size: 0.5em;">
					Known Safe Tiles - Use only tested reasonable selected tiles to place random spawns.<br>
					Crazy - Creatures may end up in walls or cause more strangeness and surprises.
				</div>
			</form>

		</div>
		<div id="tabs-3">

			<form style="margin-top: 1em;">
				<h3>Progressiveness</h3>
				<div id="progressivenes-radioset">
					<input type="radio" id="progressivenes-radio1" name="radio"><label for="progressivenes-radio1">
						Flat
					</label>
					<input type="radio" id="progressivenes-radio2" name="radio"><label for="progressivenes-radio2">
						Medium
					</label>
					<input type="radio" id="progressivenes-radio3" name="radio" checked="checked"><label for="progressivenes-radio3">
						Increased
					</label>
					<input type="radio" id="progressivenes-radio4" name="radio"><label for="progressivenes-radio4">
						Crazy
					</label>
				</div>
			</form>
			<ul style="font-size: 0.5em;">
				<li>Flat - No progressiveness, all areas have the same level of difficulty, that is the game average.</li>
				<li>Medium - Similar to the game progressivity: every area goes about 10% harder than previous.</li>
				<li>Increased - Game starts 3x easier and ends 3x harder. Recommended to enhance the game positive feedback on collecting items in early game.</li>
				<li>Crazy - Progressiveness is chaotic, each area is decided to be from 10x easier to 10x harder individually.</li>
			</ul>

			<form style="margin-top: 1em;">
				<h3>Fiery key / Flaming key drop</h3>
				<div id="fiery-key-radioset">
					<input type="radio" id="fiery-key-radio1" name="radio"><label for="fiery-key-radio1">
						Keep on Cerberus
					</label>
					<input type="radio" id="fiery-key-radio2" name="radio" checked="checked"><label for="fiery-key-radio2">
						Fiery key in Fire World
					</label>
					<input type="radio" id="fiery-key-radio3" name="radio"><label for="fiery-key-radio3">
						Fiery key in anywhere before Ashen Cavern
					</label>
					<input type="radio" id="fiery-key-radio4" name="radio"><label for="fiery-key-radio4">
						Flaming key in the first area
					</label>
				</div>
			</form>
			
			<div style="font-size: 0.5em;">
				<p>In the game, you'll find the Fiery Key after defeating Cerberus. This key opens a compartment holding the Flaming Key, which lets you teleport to the Ebony Knight's location. Since beating the Ebony Knight is essential for entering the final room and completing the game, getting the Fiery Key is a must to finish the game.</p>
				<p>Flaming key in the first area - Makes easier game. You don't need to collect Fiery key. Just collect Flaming key in early game and use it in Ashen cavern to find Ebony Knight.
			</div>

			<form style="margin-top: 1em;">
				<h3>Non-essential keys randomization</h3>
				<div id="non-essential-keys-radioset">
					<input type="radio" id="non-essential-keys-radio1" name="radio checked="checked"><label for="non-essential-keys-radio1">
						Yes
					</label>
					<input type="radio" id="non-essential-keys-radio2" name="radio"><label for="non-essential-keys-radio2">
						No
					</label>
				</div>
			</form>
			
			<div style="font-size: 0.5em;">
				<p>Randomize non-essential keys</p>
			</div>

			<form style="margin-top: 1em;">
				<h3>Ilusionists</h3>
				<div id="ilusionists-radioset">
					<input type="radio" id="ilusionists-radio1" name="radio"><label for="ilusionists-radio1">
						No change
					</label>
					<input type="radio" id="ilusionists-radio2" name="radio" checked="checked"><label for="ilusionists-radio2">
						Worship domain
					</label>
					<input type="radio" id="ilusionists-radio3" name="radio" checked="checked"><label for="ilusionists-radio3">
						Illusion World
					</label>
					<input type="radio" id="ilusionists-radio4" name="radio"><label for="ilusionists-radio4">
						Anywhere in the game
					</label>
				</div>
			</form>
			<p style="font-size: 0.5em;">Ilusionists are Gorthaur, Fester and Wildowess, need to be killed in order to make Illusion World boss Disguise to show up. In the regular game they are in the worship area.</p>

			</div>

			<div id="tabs-4">

				<form style="margin-top: 1em;">

					<h3>Enemy/Creature Shuffle</h3>
					<div>
						<input type="checkbox" id="randomize-creatures-checkbox" name="randomizeCreatures" checked="checked">
						<label for="randomize-creatures-checkbox">Randomize enemy creatures</label>
					</div>
					<p style="font-size: 0.5em;">
						Randomize enemy types and spawns. Uncheck to keep original enemies in their original locations.
					</p>

				</form>

				<form style="margin-top: 1em;">

					<h3>Keep only bosses</h3>
					<div id="keep-only-bosses-radioset">
						<input type="checkbox" id="keep-only-bosses-checkbox" name="keepOnlyBosses">
						<label for="keep-only-bosses-checkbox">Remove all non-boss creatures</label>
					</div>
					<p style="font-size: 0.5em;">
						Removes all regular creatures, keeping only bosses. Useful for testing or speedruns.
					</p>

				</form>

				<form style="margin-top: 1em;">

					<h3>To remove randomness so it will be total deterministic</h3>
					<div id="remove-randomness-radioset">
						<input type="radio" id="remove-randomness-radio1" name="radio" checked="checked"><label for="remove-randomness-radio1">
							Yes
						</label>
						<input type="radio" id="remove-randomness-radio2" name="radio"><label for="remove-randomness-radio2">
							No
						</label>
					</div>
					<p style="font-size: 0.5em;">
						Every creature spawns soon and drops always the same at 100% chance.
					</p>

				</form>

				<form style="margin-top: 1em;">

					<h3>All equips</h3>
					<div id="all-equips-radioset">
						<input type="radio" id="all-equips-radio1" name="radio"><label for="all-equips-radio1">
							Yes
						</label>
						<input type="radio" id="all-equips-radio2" name="radio" checked="checked"><label for="all-equips-radio2">
							No
						</label>
					</div>
					<p style="font-size: 0.5em;">
						Possibility to complete all items in one game play. It makes much more equips to be dropped.
					</p>

				</form>

				<form style="margin-top: 1em;">

					<h3>No HP or MP recovery</h3>
					<div id="no-hp-mp-recovery-radioset">
						<input type="radio" id="no-hp-mp-recovery-radio1" name="radio" checked="checked"><label for="no-hp-mp-recovery-radio1">
							Yes
						</label>
						<input type="radio" id="no-hp-mp-recovery-radio2" name="radio"><label for="no-hp-mp-recovery-radio2">
							No
						</label>
					</div>
					<p style="font-size: 0.5em;">
						To force good use of equipments and management of HP and MP. Eliminate practice of waiting to fill up HP and MP. Instead, there will be more availability of HP and MP potions and dorado ashes.
					</p>

				</form>


			</div>


		</div-->

		<div class="info-section">
			<h3>üìñ Randomization Info</h3>

			<p>Advanced knowledge of the game is not required to use this tool.</p>
			<p>The preset options configure other parameters to a level that ensures a reasonable playtime based on the expected experience. It is recommended to only modify the difficulty setting, while keeping other parameters at their default values.</p>
			<p>The "Only Swap" option for each parameter disables random generation and simply swaps values. This ensures that no strange values are generated, offering a safer way to play if the randomness becomes unreliable.</p>
			<p>From the selected recipe, a changeset file is generated. This file can be shared with others to allow them to reproduce the exact same output without knowing the spoilers. The changeset can also be uploaded and applied to an ISO. When applied, its checksum is also displayed in the initial short sword description.</p>

			<p>Randomization generates an intermediary recipe file, which contains all the readable information about the random settings applied. You can download, modify, and upload it to make custom changes to your game.</p>

			<p>While the in-game creature book stats are not altered, the actual data used in the game is changed. To help players adjust, you can share the `creature_book.txt` file so they can review the stats in advance and plan accordingly.</p>

			<p>Future updates are expected to include randomization for enemy walk speeds, attack cooldowns, as well as the ability to spawn more creatures and items than in the regular game. These features are more complex and will be added later.</p>
		</div>

		<div class="info-section">
			<h3>üó∫Ô∏è Map Randomization (Archetype System)</h3>

			<p><strong>How it works:</strong> The randomizer uses an <em>archetype-based system</em> to safely shuffle map connections. Only areas with matching archetypes can be swapped with each other, ensuring the game remains completable while providing variety.</p>

			<h4 style="color: #c9a961; font-size: 1.1em; margin-top: 15px;">Area Archetypes:</h4>
			
			<p><strong>üîÄ Pipe (2-way)</strong> - Areas with 2 exits that work in both directions. These can swap with other pipe areas, and may be inverted (entrance becomes exit and vice versa) for additional variety.</p>

			<p><strong>üîΩ Funnel (1-way)</strong> - Areas with an input and output that only flow in one direction (like a drop or one-way door). These swap with other funnels while maintaining the directional flow (input always maps to input, output to output).</p>

			<p><strong>üö™ Dead-End</strong> - Areas with only one entrance/exit. These swap with other dead-end areas, ensuring terminal rooms remain terminal.</p>

			<p><strong>üî± 3-Way-Pipe-Joint</strong> - Junction areas with 3 exits that work in any direction. When swapped, the 3 connections can be shuffled in any order, creating up to 6 different permutations per swap.</p>

			<h4 style="color: #c9a961; font-size: 1.1em; margin-top: 15px;">Current Configuration:</h4>
			
			<p>Currently enabled for randomization:</p>
			<ul style="margin-left: 20px; margin-top: 5px;">
				<li><strong>2 Pipe areas:</strong> Cursed Region, Bewilderment Domain</li>
				<li><strong>5 Funnel areas:</strong> Phoenix Cave, Watery Labyrinth, Stone Cavern, Sunken River, Undead Layer</li>
				<li><strong>2 Dead-End areas:</strong> Rotting Cavern, Quaking Cavern</li>
				<li><strong>2 3-Way-Pipe-Joint areas:</strong> Shadow Tower Part 1C, Shadow Tower Part 2B</li>
			</ul>

			<p style="margin-top: 10px;"><strong>Total: 11 swappable areas</strong> (out of 36 total areas in the game)</p>

			<p style="margin-top: 10px;"><em>Note:</em> The archetype system ensures you'll never encounter impossible situations like soft-locks or unreachable areas. Each swap maintains the logical structure of the game world.</p>
		</div>

		<div class="info-section">
			<h3>üéÆ Gameplay</h3>

			<p>Be sure to check your equipment and stat values in-game, as they may differ from the default settings.</p>

			<p>With randomized areas, manage exploration as if you're playing the game for the first time.</p>

			<p>To complete the game, you must defeat all world bosses, who will remain in their original locations. To spawn Desguise, you still need to defeat the Illusionists first.</p>

			<p>Bosses and NPC creatures are not randomized.</p>
		</div>

		<div class="info-section">
			<h3>üèÜ Credits</h3>

			<p>Special thanks to the FromSoft Modding Committee (Discord: <a href="https://discord.gg/jUzZwWWUXd">https://discord.gg/jUzZwWWUXd</a>) for their valuable knowledge about From Software's PSX games and more specifically to StolenBattenberg for giving comprehensive guidance on the data internals, that was fundamental for the development.</p>	

			<p>Thanks also to everyone who contributed ideas, data, and testing. Special thanks to Lucifer65535 and David Bunch for their online walkthroughs, which made it easier to understand the game data and double-check my findings. A big thank you to Martin Korth for no$psx, which was essential for testing during mod development. Special thanks to Hashassin for testing thoughtfully and suggesting improvements and fixes.</p>
		</div>

		<div class="info-section">
			<h3>‚ö†Ô∏è Disclaimer</h3>

			<p>This tool is provided "as is" with no guarantee of functionality or safety. The modified software could potentially harm your computer, video game console, or other equipment. Use it at your own risk.</p>

			<p>The development of this tool is for educational purposes only and has no commercial use. We do not promote piracy or any illegal activities. The usage and modification of this tool is permitted for any legal activities.</p>

			<p>This software is completely free to use, modify, and distribute. If you use it for online content (such as news, streaming, or indexing), I would appreciate it if you credit the author, Fredo Rischter, and link to the GitHub repository: <a href="https://github.com/fredrischter/shadow-tower-randomizer">https://github.com/fredrischter/shadow-tower-randomizer</a>, as well as to the FromSoft Modding Committee.</p>
		</div>

		<div class="info-section">
			<h3>üìß Contact</h3>

			<p>If you need to reach out, you can contact me at fredrischter at gmail dot com.</p>
		</div>

		<!-- Task #Mobile-Usability: Image Gallery Section moved here and made collapsible -->
		<div class="gallery-section">
			<button class="gallery-toggle" id="galleryToggle">
				<span>üéÆ Shadow Tower Screenshots</span>
				<span class="gallery-toggle-icon">‚ñº</span>
			</button>
			<div class="gallery-content" id="galleryContent">
				<div class="gallery-container">
					<div class="gallery-item">
						<img src="images/SLUS-00863_2023-12-27_02-43-48-1.png" alt="Shadow Tower Gameplay" loading="lazy">
					</div>
					<div class="gallery-item">
						<img src="images/SLUS-00863_2023-12-26_15-49-06-2.png" alt="Shadow Tower Environment" loading="lazy">
					</div>
					<div class="gallery-item">
						<img src="images/SLUS-00863_2023-12-27_04-58-06-1.png" alt="Shadow Tower Combat" loading="lazy">
					</div>
					<div class="gallery-item">
						<img src="images/SLUS-00863_2023-12-26_15-48-59-1.png" alt="Shadow Tower Scene" loading="lazy">
					</div>
					<div class="gallery-item">
						<img src="images/parasite.jpg" alt="Shadow Tower Enemy" loading="lazy">
					</div>
				</div>
			</div>
		</div>

		</div><!-- end main-content -->
	</div><!-- end container -->

		<script src="uuid.min.js"></script>
		<script src="external/jquery/jquery.js"></script>
		<script src="Iso9660.js"></script>
		<script src="KaitaiStream.js"></script>
		<script src="jquery-ui.js"></script>
		<script src="index.js"></script>

</body>
</html>
